//  This file is part of tiger
//
//  Copyright 2025 PerplexedTheta
//
//  Licensed under the Apache License, Version 2.0 (the "License");
//  you may not use this file except in compliance with the License.
//  You may obtain a copy of the License at
//
//      http://www.apache.org/licenses/LICENSE-2.0
//
//  Unless required by applicable law or agreed to in writing, software
//  distributed under the License is distributed on an "AS IS" BASIS,
//  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
//  See the License for the specific language governing permissions and
//  limitations under the License.
:root {
    --doc-triangle-exclamation: url('/res/vectors/triangle-exclamation-light.svg');
}

#wrapper {
    display: flex;
    flex-direction: column;
    height: 100vh;
    overflow-y: hidden;
    background: var(--doc-bg);
    color: var(--doc-fg);
    font-family: var(--doc-fonts);
    font-weight: normal;
    line-height: 1.20;

    div#loading {
        display: flex;
        position: absolute;
        top: 0;
        right: 0;
        bottom: 0;
        left: 0;
        z-index: 9999;
        background: var(--doc-bg);

        div.dialog {
            display: block;
            position: relative;
            margin: auto auto;
            padding: 1em;
            border: 3px solid var(--doc-fg);
            font-weight: bold;
        }
    }

    nav {
        display: flex;
        flex: 0 1 auto;
        flex-direction: row;
        justify-content: start;
        align-content: center;
        padding: 0.75em 1em;
        border-bottom: 3px solid var(--doc-fg);

        img#rail-logo,
        img#bus-logo {
            width: auto;
            height: 24px;
            margin: auto 0.75em auto 0;
            filter: var(--doc-inverse);
        }

        h1#headline {
            margin-bottom: 0;
            font-size: 1.33em;
            font-weight: bold;
        }
    }

    main {
        display: flex;
        flex-direction: column;
        flex: 1 1 auto;
        justify-content: start;
        overflow-x: hidden;
        overflow-y: scroll;

        .errors {
            padding: 1em;
        }

        .silent {
            padding: 2em 1em;
            font-weight: bold;
        }

        .main-row,
        .main-row-header {
            display: flex;
            flex-direction: row;
        }

        .main-row {
            .main-col-dest,
            .main-col-laststop {
                font-weight: bold;
            }
        }

        .main-row-header {
            font-weight: lighter;
            font-style: italic;
            margin-bottom: 0.50em;
        }

        .main-col-time,
        .main-col-dest,
        .main-col-plat,
        .main-col-line,
        .main-col-issue,
        .main-col-exp,
        .main-col-formed,
        .main-col-rtpi {
            overflow-x: hidden;
            padding: 0.125em 0.25em;
            margin-bottom: 0.25em;
            font-weight: normal;
            font-size: 0.85em;
            white-space: nowrap;
        }

        .main-col-time {
            width: 12.5%;
        }
        .main-col-dest {
            overflow-x: scroll;
            width: 35%;

            span.busco,
            span.toc,
            span.tyrell {
                display: block;
                margin: 0.50em 0;
                color: var(--doc-fg-important);
                font-weight: normal;
                font-size: 0.75em;
                white-space: wrap;
            }
        }
        .main-col-plat,
        .main-col-line {
            width: 11%;

            span.amendment {
                background: var(--doc-blue);
                color: var(--doc-bg);
                padding: 0 0.125em;
            }
        }
        .main-col-issue {
            display: none;
            width: 0;
        }
        .main-col-exp {
            width: 20.75%;

            span.cancelled,
            span.due {
                color: var(--doc-bg);
                padding: 0 0.125em;
            }
            span.cancelled {
                background: var(--doc-red);
            }
            span.due {
                background: var(--doc-green);
            }
            span.issue {
                display: block;
                margin: 0.50em 0;
                color: var(--doc-fg-important);
                font-weight: normal;
                font-size: 0.75em;
                white-space: wrap;

                i {
                    padding: 0 0.75em;
                    background: var(--doc-orange) var(--doc-triangle-exclamation) no-repeat center center;
                    background-size: contain;
                }
            }
        }
        .main-col-formed,
        .main-col-rtpi {
            width: 20.75%;

            span.rtpi {
                background: var(--doc-blue);
                color: var(--doc-bg);
                padding: 0 0.125em;
            }
        }
    }

    footer {
        display: flex;
        flex-direction: row;
        flex: 0 1 auto;
        justify-content: space-between;
        padding: 0.33em 1em;
        border-top: 3px solid var(--doc-fg);

        div {
            align-content: center;
        }

        span#incident {
            padding: 0 .125em 0 1.50em;
            background: var(--doc-orange) var(--doc-triangle-exclamation) no-repeat left center;
            background-size: contain;
            color: var(--doc-bg);
            font-size: 0.75em;
            font-weight: bold;
        }

        span#clock {
            font-size: 1.33em;
            font-weight: normal;
        }
    }
}

@media (prefers-color-scheme: dark) {
    :root {
        --doc-triangle-exclamation: url('/res/vectors/triangle-exclamation.svg');
    }
}

@media (min-width: 576px) {
    #wrapper{
        main {
            .main-col-time,
            .main-col-dest,
            .main-col-plat,
            .main-col-line,
            .main-col-issue,
            .main-col-exp,
            .main-col-formed,
            .main-col-rtpi {
                font-size: 1.0em;
            }
        }
    }
}
